---
title: 'stuff'
author:
  - Vincent J. Carey^[stvjc@channing.harvard.edu], Channing Laboratory, Brigham And Women's Hospital, Boston, MA
  - John C. Mallery^[jcmallery@gmail.com]
  - Charles Moorefield^[chuck.morefield@icloud.com] 
  - Sean R. Davis^[seandavi@gmail.com], Center for Cancer Research, National Cancer Institute, National Institutes of Health, Bethesda, MD
address:
  - code: channing
    address: Channing Laboratory, Brigham And Women's Hospital, 75 Francis St, Boston, MA 02115
  - code: ccr
    address: Center for Cancer Research, National Cancer Institute, National Institutes of Health, 37 Convent Drive, Bldg 37, Room 6138, Bethesda, MD 20891
link-citations: true  
abstract: |
  Open data resources tracking the global and local spread of COVID-19 pandemic are the cornerstone of local, national, and international interventions to mitigate public health impacts of the disease. Here, we present *sars2pack*, a principled, open development, open source software package for utilizing high-value COVID-19 related data sources from the R statistical programming environment. Additionally, we provide example analysis approaches, visualization, and data integration. 
 
bibliography: references.bib
nocite: | 
  @Wickham2014-ye, @testthat-hw, @sf-ep, @lovelace_geocomputation_2019
document_class: article
output:
  bookdown::pdf_book:
    number_sections: TRUE
    toc: false
header-includes:
  \let\counterwithout\relax
  \let\counterwithin\relax
  \usepackage{chngcntr}
  \counterwithout{table}{section}
  \counterwithout{figure}{section}
  \usepackage{authblk}
---

```{r include=FALSE}
library(sars2pack)
dsd = dataset_details()
total_datapoints = sum(sapply(dsd$datasets, function(ds) {
    ds$dimensions[[1]] * ds$dimensions[[2]]
}))
```

total data points: `r total_datapoints`



# Background and Motivation

The unparalleled scale of the COVID-19 pandemic has already had
disastrous global public health, economic, and social impacts not
witnessed in most of our lifetimes. Decisions as grand as those
related to national security down to the individual decision of
whether or go at the grocery store have a new sense of gravity and are
accompanied by new levels of uncertainty. In the context of hard facts
and uncertainty, open data science helps clarify possible outcomes of
interventions and opens a path to sharper understanding and better
decisions. Here, we present *sars2pack*, an open source, open
development software package that aims to facilitate access to and use
of the extensive and growing set of open data resources for research,
education, and to drive interventions. We leverage the R ....



that have proven to be the cornerstone of local, national, and
international interventions to mitigate public health impacts of the
pandemic. 

Here,
we present *sars2pack*, a principled, open development, open source
software package for utilizing high-value COVID-19 related data
sources from the R statistical programming environment. Additionally,
we provide example analysis approaches, visualization, and data
integration.

combating the COVID-19 pandemic, 


Traditional public health organizations as well as data-mature
organizations not traditionally involved directly in public health
have rapidly developed digital disease surveillance infrastructuree
that provides nearly realtime epidemic tracking data. These data
resources have proven invaluable to understanding disease spread, to
drive non-pharmacologic intervention (NPI), and, when combined with
additional data resources, to project impacts to communities and
healthcare systems around the world. Even as the urgency of the
initial "hammer" of the COVID-19 pandemic begins to abate @Pueyo2020-sh, the need
for timely, robust, and granular datasets will inform business,
policy, and even personal decisions for months or even years to
come.


This project proposes to:

1. Collect COVID-19 related public health and disease tracking
   resourcesand provide principled approach date reuse and
   reproducible computational research.
2. Provide a data science environment for researchers, media, policy
   makers, and data scientists to collaborate while promoting
   reproducible computational research best practices.
3. Capitalize on the large, existing multidisciplinary data science
   workforce already familiar with the R programming environment.
4. Create opportunities for individuals not well-versed in data
   science to learn and experiment with COVID-19 datasets.
5. Incorporate examplar workflows that leverage the extensive R data
   science ecosystem to visualize, analyze, and integrate COVID-19
   data resources. 

The COVID-19 pandemic has resulted in unprecedented and sometimes
hard-to-predict changes to our daily lives. In the midst of this
change and uncertainty, observational data resources form the backbone
of national and international efforts to understand the spread of the
disease and to mitigate its impact on communities and nation states.
The sars2pack adopts a principled approach to deliver tested and
documented code and data resources.

# Datasets


## COVID-19 case tracking (prob remove headings)


We include nine datasets from six distinct data providers that track
the disease outbreak. Datasets differ by geographic region(s) covered
(eg. whole world, continent, or country),
by geographic resolution (eg., country level down to county level),
and by metrics that they track such as confirmed cases, deaths,
hospitalizations, and positive and negative test results.  

## Healthcare capacity

## Non-pharmaceutical Interventions



## Mobility



# Methods

## Choice of datasets

We used a combination of informal literature searches, attributed
sources from media reports, popular online portals, and crowd-sourced
data collections to find candidates for inclusion as data
resources. Additionally, we required each candidate dataset be
available online in a common machine readable format, be open access,
and have an adequate description of provenance (evaluated subjectively
by the authors). Datasets were prio collected openly
available data resources for inclusion in the XXXXXXXX

package, focusing on regularly updated datasets that tracked the
spread of disease, the impact of disease on the healthcare system and
communities, or that quantified or cataloged non-pharmaceutical
interventions. To be included, the data resource needed to be openly
accessible with data in a computationally readable format such as csv,
json, or Excel. The set of collected datasets is available in Table \@ref(tab:availData).

## Robustness

We utilize the R package `testthat` @testthat-hw for formal testing of R functions. The same testing framwork   All
datasets are checked each day using automated integration
testing. Details such as the number, type, and names of columns are
checked against exported norms with developers and interested users
receiving detailed notifications of failures. Higher-level

## Usability

The sars2pack is accessible to anyone with a working R installation
using standard R package installation processes. To enhance
portability, we offer an updated Docker (REF) image. Finally, to
minimize barriers for “trying it out,” a one-click launch mechanism
that leverages Binder (mybinder.org REF) results in a fully-functional
web-based development environment suitable for accessing all currently
available datasets. Online documentation that includes workflows,
dataset overview and details, and didactic materials serve to augment
R function documentation (GITHUB PAGES).

In a mix of both defined facts and uncertainty, open data science
helps clarify possible outcomes of interventions, and opens a path to
sharper understanding as facts harden in various domains.

# Results

```{r availData, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
library(sars2pack)
library(knitr)
library(xtable)
ad = available_datasets()
library(dplyr)
colnames(ad) = stringr::str_to_title(colnames(ad))
ad %>%
    dplyr::mutate(Data_type=stringr::str_to_sentence(Data_type)) %>%
    dplyr::select(-Name, -Geographical, -Geospatial, -Region, -Resolution) %>%
    xtable(label='tab:availData') %>%
    print.xtable(comment = FALSE, include.rownames = FALSE)
```

# References {#references .unnumbered}

# EXTRA

COVID-19: Responses from the perspective of open data science

1) Audience: data scientists and their supporters

2) Message: In a mix of hard and uncertain facts, open data science
helps clarify possible outcomes of interventions, and opens a path to
sharper understanding as facts harden in various domains

Overview on facts and uncertainties: a) When was "patient zero"
infected, for the pandemic as a whole and for outbreaks in specific
localities?  b) What are the incubation period, serial interval,
latent period, period of communicability, modes of transmission of
SARS-Cov-2? c) What are the rates of transition between infection,
symptoms, death, and how do factors at levels of host, pathogen, and
environment affect these? d) what are the actual transmission dynamics
in human societies and which health systems are best suited to
defining them?  e) What non-pharmacologic interventions (NPI) have
been used for the 2020 pandemic, where and when were they implemented,
and what have their effects been?  How can inference on NPI effects be
properly protected from bias due to confounding, measurement error,
and other threats to validity?

The Lipsitch NYT Op-Ed piece on immunity is a good collection of open
questions to be addressed through observation, experiment and data
analysis.  The Santa Clara seroprevalence report uses a structured
sample of 3300 residents to obtain weighted estimates of prevalence of
antibodies to SARS-Cov-2.  The UT study of mobility data for assessing
social distancing implementation for incidence projection provides a
quantitative representation of dynamic social distancing processes.

Objectives of data science in this context: Once a problem is clearly
formulated, identify data features that contribute to its solution,
derive the solution and present it in the context of remaining
uncertainty.  Respond to changes in problem formulation and data
resources, updating solutions and uncertainty measures.

Coordination of data science: Can researchers "divide and conquer" the
large collection of problems underlying analysis and response to
pandemic spread of possibly highly lethal pathogens?

Application of data science: Can policymakers and scientists
responsible for policy guidance and administration of new
investigations rapidly consume and interpret data patterns and
inferences to drive social and government responses towards
cost-effective responses?

## Facts addressible with sars2pack

a) official reporting of COVID-19 incidence over time, gathered from self-organized aggregators
b) government policy responses over time, collected at Oxford/Blavatnik (International) and U Washington (Social distancing)
c) health care system capacity, collected at Kaiser Health Network and healthdata.org
d) mobility data in US, collected at Descartes Labs
e) Projections of disease morbidity, mortality, and healthcare utilization

# References {-}

