<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HMTPlot: How much testing • sars2pack</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="HMTPlot: How much testing">
<meta property="og:description" content="sars2pack">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-93043521-4"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-93043521-4');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sars2pack</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/add_a_dataset.html">How to add a new dataset to sars2pack</a>
    </li>
    <li>
      <a href="../articles/case_tracking.html">Case tracking datasets</a>
    </li>
    <li>
      <a href="../articles/current_data_overview.html">COVID-19 Graphical Status Report</a>
    </li>
    <li>
      <a href="../articles/datasets.html">Overview of available datasets</a>
    </li>
    <li>
      <a href="../articles/doMCMC.html">Building MCMC-based models of SI for SARS-Cov-2</a>
    </li>
    <li>
      <a href="../articles/how_much_testing.html">HMTPlot: How much testing</a>
    </li>
    <li>
      <a href="../articles/index.html">Introduction to sars2pack</a>
    </li>
    <li>
      <a href="../articles/map_visualization.html">Geospatial visualization of COVID-19 datasets</a>
    </li>
    <li>
      <a href="../articles/more_visualization.html">Visualizing geographic COVID-19 trends without maps</a>
    </li>
    <li>
      <a href="../articles/overview.html">Exploring the COVID-19 pandemic using sars2pack</a>
    </li>
    <li>
      <a href="../articles/phylogenetics.html">Phylogenetic data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/seandavi/sars2pack">
    <span class="fas fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="how_much_testing_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>HMTPlot: How much testing</h1>
                        <h4 class="author">Vincent J. Carey, Brigham and Womens Hospital, Harvard Medical School, Boston, MA</h4>
                        <h4 class="author">Sean R. Davis<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, Center for Cancer Research, National Cancer Institute, National Institutes of Health, Bethesda, USA</h4>
            
            <h4 class="date">Dec 19, 2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/seandavi/sars2pack/blob/master/vignettes/how_much_testing.Rmd"><code>vignettes/how_much_testing.Rmd</code></a></small>
      <div class="hidden name"><code>how_much_testing.Rmd</code></div>

    </div>

    
    
<div id="how-much-testing" class="section level1">
<h1 class="hasAnchor">
<a href="#how-much-testing" class="anchor"></a>How much testing?</h1>
<div id="outline-of-the-problem" class="section level2">
<h2 class="hasAnchor">
<a href="#outline-of-the-problem" class="anchor"></a>Outline of the problem</h2>
<p>The COVID-19 pandemic has disrupted daily life throughout the world. Without a vaccine to confer immunity and lacking effective therapies once infected, public health measures such as social distancing, contact tracing, and case surveillance rule the day with respect to mitigating impacts of the disease on communities. As individual countries emerge from variable levels of lockdown, community testing to detect cases as quickly and thoroughly as possible is a recognized component of controlling the pandemic.</p>
<p>There is considerable agreement that widespread testing is a required component of moving beyond stay-at-home orders. The World Health Organization (WHO) has highlighted the need for extensive and widespread testing. Tedros Ghebreyesus, the chief executive of WHO, has suggested “You cannot fight a fire blindfolded. Our key message is test, test, test” <span class="citation">(World Health Organization <a href="#ref-who-bh" role="doc-biblioref">2020</a>)</span>. Robert Gallo, director of the Institute of Human Virology at the University of Maryland School of Medicine “is absolutely essential to control the epidemic” <span class="citation">(Brumfiel <a href="#ref-Brumfiel2020-qe" role="doc-biblioref">2020</a>)</span>. Emily Gurley, an associate scientist at the Johns Hopkins Bloomberg School of Public Health told NPR <span class="citation">(Brumfiel <a href="#ref-Brumfiel2020-qe" role="doc-biblioref">2020</a>)</span>, “Everyone staying home is just a very blunt measure. That’s what you say when you’ve got really nothing else. Being able to test folks is really the linchpin in getting beyond what we’re doing now.” Philip J. Rosenthal describes how early application of diagnostic testing lead to strong disease control in some countries <span class="citation">(Rosenthal <a href="#ref-Rosenthal2020-zs" role="doc-biblioref">2020</a>)</span>.</p>
<p>So, how much testing is enough? Michael Ryan, executive director of the WHO Health Emergencies Program suggests that, “We would certainly like to see countries testing at the level of ten negative tests to one positive, as a general benchmark of a system that’s doing enough testing to pick up all cases.” <span class="citation">(Huang <a href="#ref-Huang2020-iz" role="doc-biblioref">2020</a>)</span> For particularly high-risk communities such as the elderly or those who are expected to come into contact with others regularly, aiming for a much lower proportion of positive test results is appropriate so as to capture the highest possible proportion of infected and infectious individuals.</p>
<p>Here, we present an intuitive and principled approach to visualizing comparative testing data for multiple geographic areas that visually presents:</p>
<ul>
<li>Quantity of testing across several orders-of-magnitude</li>
<li>Proportion of positive test results</li>
<li>Changes in testing and proportion positive tests over time</li>
<li>Identifiable trends, including outlier behavior</li>
<li>Progress toward meeting target proportion of positive testing</li>
</ul>
</div>
<div id="motivation-for-visualization" class="section level2">
<h2 class="hasAnchor">
<a href="#motivation-for-visualization" class="anchor"></a>Motivation for visualization</h2>
<p>We collected longitudinal testing datasets from Our World in Data (OWID) <span class="citation">(Max Roser and Hasell <a href="#ref-owidcoronavirus" role="doc-biblioref">2020</a>)</span> and the COVID Tracking Project (covidtracking) <span class="citation">(The COVID Tracking Project <a href="#ref-covidtracking-vg" role="doc-biblioref">2020</a>)</span> as provided by the R package, <code>sars2pack</code> <span class="citation">(Carey and Davis <a href="#ref-sars2pack-cx" role="doc-biblioref">2020</a>)</span>. The OWID collection tracks glogal test reporting at the national level, though test reporting level (sample, person, case, etc.) varies somewhat by country. The covidtracking resource tracks state-level testing in the United States, again with various definitions for what constitutes a test.</p>
<p>Each dataset is composed of one row per observation:</p>
<ul>
<li>Location</li>
<li>Positive test results</li>
<li>Total tests performed</li>
<li>Date (in one-day increments)</li>
</ul>
<p>One path of evolution for visualization approach is given in Figure @ref(fig:priorApproach) with a representative subset of states in the United States over 28 days ending 2020-12-19. Figure @ref(fig:priorApproach)A depicts the proportion of positive tests on one day but does not provide any visual prompt of size of testing efforts. Figure @ref(fig:priorApproach)B uses a scatterplot approach where the threshold for positive tests is a line. Let <span class="math inline">\(y\)</span> be the number of positive tests and <span class="math inline">\(x\)</span> be the total number of tests.</p>
<p><span class="math display">\[\begin{equation}
y = mx + b
\end{equation}\]</span></p>
<p>In equation (1), <span class="math inline">\(b\)</span> is the y-intercept. Assuming that <span class="math inline">\(b = 0\)</span> (since when no tests are done, <span class="math inline">\(x=0\)</span> and <span class="math inline">\(y=0\)</span>). The threshold for “enough” testing is when the slope, <span class="math inline">\(m\)</span>, is equal to the desired proportion of positive tests. Points that fall below the line given by equation (1) are doing adequate testing while those above should strive for more. The dashed line in Figure @ref(fig:priorApproach)B is for <span class="math inline">\(m=0.1\)</span> and the dotted line for <span class="math inline">\(m=0.2\)</span>. Interpreting results near the origin in Figure @ref(fig:priorApproach)B is challenging given to the scale.</p>
<p><span class="math display">\[
\log_{10} y = \log_{10} x + \log_{10} m
\]</span></p>
<div class="figure">
<img src="how_much_testing_files/figure-html/priorApproach-1.png" alt="Testing and proportion of positive tests for several states in the United States over the past 28 days (2020-11-21 to 2020-12-19). Included in all panels for orientation, dashed line represents 10 threshold for positive tests and dotted line represents 20. Bar chart of proportion of positive tests at a single time point on the last day of the 28-day window (A) gives no sense of number of tests performed. Positive tests vs total number of tests (B) is hard to interpret near the origin. A log-log plot of positive tests vs total tests (C) deals with visualizing more clearly, but note that .... " width="700"><p class="caption">
Testing and proportion of positive tests for several states in the United States over the past 28 days (2020-11-21 to 2020-12-19). Included in all panels for orientation, dashed line represents 10 threshold for positive tests and dotted line represents 20. Bar chart of proportion of positive tests at a single time point on the last day of the 28-day window (A) gives no sense of number of tests performed. Positive tests vs total number of tests (B) is hard to interpret near the origin. A log-log plot of positive tests vs total tests (C) deals with visualizing more clearly, but note that ….
</p>
</div>
<p><span class="math display">\[\begin{equation}
y = mx + b
\end{equation}\]</span></p>
<p><span class="math display">\[\begin{align}
b = 0\\
y = mx \\
\log_{10}y = \log_{10}xm \\
\log_{10}y = \log_{10}x + \log_{10}m \\
X = log_{10}x, Y=log_{10}y, M=log_{10}m \\
Y = X + M \\
X=0, Y=M=log_{10}m
\end{align}\]</span></p>
</div>
<div id="intuitive-visualization-of-amount-of-testing" class="section level2">
<h2 class="hasAnchor">
<a href="#intuitive-visualization-of-amount-of-testing" class="anchor"></a>Intuitive visualization of amount of testing</h2>
<p>See Figure @ref(fig:states).</p>
<div class="figure">
<img src="how_much_testing_files/figure-html/states-1.png" alt="United States testing results." width="700"><p class="caption">
United States testing results.
</p>
</div>
<div class="figure">
<img src="how_much_testing_files/figure-html/owid-1.png" alt="Worldwide testing results." width="700"><p class="caption">
Worldwide testing results.
</p>
</div>
<div id="refs" class="references">
<div id="ref-Brumfiel2020-qe">
<p>Brumfiel, Geoff. 2020. “To End the Coronavirus Crisis We Need Widespread Testing, Experts Say.” <em>NPR</em>, March. <a href="https://www.npr.org/sections/health-shots/2020/03/24/820157519/to-end-the-coronavirus-crisis-we-need-widespread-testing-experts-say">https://www.npr.org/sections/health-shots/2020/03/24/820157519/to-end-the-coronavirus-crisis-we-need-widespread-testing-experts-say</a>.</p>
</div>
<div id="ref-sars2pack-cx">
<p>Carey, Vincent J., and Sean R. Davis. 2020. “Sars2pack.” Github. <a href="https://github.com/seandavi/sars2pack">https://github.com/seandavi/sars2pack</a>.</p>
</div>
<div id="ref-Huang2020-iz">
<p>Huang, Pien. 2020. “If Most of Your Coronavirus Tests Come Back Positive, You’re Not Testing Enough.” <em>NPR</em>, March. <a href="https://www.npr.org/sections/coronavirus-live-updates/2020/03/30/824127807/if-most-of-your-coronavirus-tests-come-back-positive-youre-not-testing-enough">https://www.npr.org/sections/coronavirus-live-updates/2020/03/30/824127807/if-most-of-your-coronavirus-tests-come-back-positive-youre-not-testing-enough</a>.</p>
</div>
<div id="ref-owidcoronavirus">
<p>Max Roser, Esteban Ortiz-Ospina, Hannah Ritchie, and Joe Hasell. 2020. “Coronavirus Pandemic (Covid-19).” <em>Our World in Data</em>.</p>
</div>
<div id="ref-Rosenthal2020-zs">
<p>Rosenthal, Philip J. 2020. “The Importance of Diagnostic Testing During a Viral Pandemic: Early Lessons from Novel Coronavirus Disease (COVID-19).” <em>The American Journal of Tropical Medicine and Hygiene</em> 102 (5): 915–16. <a href="https://doi.org/10.4269/ajtmh.20-0216">https://doi.org/10.4269/ajtmh.20-0216</a>.</p>
</div>
<div id="ref-covidtracking-vg">
<p>The COVID Tracking Project. 2020. “The COVID Tracking Project.” <a href="https://covidtracking.com/">https://covidtracking.com/</a>. <a href="https://covidtracking.com/">https://covidtracking.com/</a>.</p>
</div>
<div id="ref-who-bh">
<p>World Health Organization. 2020. “WHO Director-General’s Opening Remarks at the Media Briefing on COVID-19 - 16 March 2020.” <a href="https://www.who.int/dg/speeches/detail/who-director-general-s-opening-remarks-at-the-media-briefing-on-covid-19---16-march-2020">https://www.who.int/dg/speeches/detail/who-director-general-s-opening-remarks-at-the-media-briefing-on-covid-19---16-march-2020</a>. <a href="https://www.who.int/dg/speeches/detail/who-director-general-s-opening-remarks-at-the-media-briefing-on-covid-19---16-march-2020">https://www.who.int/dg/speeches/detail/who-director-general-s-opening-remarks-at-the-media-briefing-on-covid-19---16-march-2020</a>.</p>
</div>
</div>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p><a href="mailto:seandavi@gmail.com" class="email">seandavi@gmail.com</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sean Davis, VJ Carey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
